<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Consórcio - Acesso Restrito</title>
    <style>
        :root {
            --primary: #2c3e50;
            --accent: #27ae60;
            --bg-body: #f4f7f6;
            --bg-card: #ffffff;
            --input-bg: #eaf6ff;
            --input-border: #b3d4fc;
            --text-main: #333333;
            --text-muted: #7f8c8d;
        }

        * { box-sizing: border-box; }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        /* --- ESTILOS DE AUTENTICAÇÃO (LOGIN) --- */
        #auth-container {
            width: 100%;
            max-width: 400px;
            margin-top: 50px;
            display: flex; /* Começa visível */
            flex-direction: column;
            gap: 20px;
        }

        .auth-card {
            background: var(--bg-card);
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            text-align: center;
        }

        .auth-card h2 { color: var(--primary); margin-bottom: 20px; }
        
        .auth-input {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border: 1px solid var(--input-border);
            background-color: var(--input-bg);
            border-radius: 4px;
            font-size: 1rem;
        }

        .auth-btn {
            width: 100%;
            padding: 12px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
            transition: 0.3s;
        }
        .auth-btn:hover { background-color: #34495e; }

        .auth-link {
            display: block;
            margin-top: 15px;
            color: var(--primary);
            text-decoration: underline;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .error-message {
            color: #c0392b;
            font-size: 0.85rem;
            margin-bottom: 10px;
            display: none;
        }

        /* --- ESTILOS DO APP (SIMULADOR) --- */
        #app-container {
            display: none; /* Começa oculto */
            width: 100%;
            max-width: 1200px;
            flex-direction: column;
            align-items: center;
        }

        .header-bar {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .logout-btn {
            background-color: #c0392b;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
        }

        /* --- ESTILOS ORIGINAIS DO SIMULADOR (Mantidos) --- */
        h1 { color: var(--text-muted); font-weight: 300; margin-bottom: 25px; text-align: center; }
        .type-selector { margin-bottom: 20px; display: flex; gap: 10px; justify-content: center; }
        .type-btn { background: #e0e0e0; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; color: #555; font-weight: 600; transition: 0.3s; }
        .type-btn.active { background-color: var(--primary); color: white; }
        
        .grid-container { width: 100%; display: grid; grid-template-columns: 1fr 1fr; gap: 30px; align-items: start; }
        .card { background: var(--bg-card); padding: 25px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .card.full-width { grid-column: 1 / -1; margin-top: 20px; }
        
        h2 { color: var(--primary); font-size: 1rem; text-transform: uppercase; font-weight: 700; margin-top: 0; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 2px solid var(--accent); }
        
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .form-group { margin-bottom: 5px; }
        .form-group.full-width { grid-column: 1 / -1; }
        
        label { display: block; margin-bottom: 5px; font-weight: 700; font-size: 0.85rem; color: #444; }
        input[type="number"], input[type="text"] { width: 100%; padding: 10px 12px; border: 1px solid var(--input-border); background-color: var(--input-bg); border-radius: 4px; font-size: 0.95rem; color: var(--primary); font-weight: 500; outline: none; }
        input:focus { border-color: var(--accent); background-color: #fff; }
        input:disabled, input[readonly] { background-color: #e2e6ea; color: #888; cursor: not-allowed; }
        
        .highlight-box { grid-column: 1 / -1; background-color: #fff3cd; border: 1px solid #ffeeba; border-radius: 4px; padding: 12px 15px; display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }
        .small-input { width: 70px !important; padding: 5px !important; text-align: center; background-color: #fff !important; border-color: #e0c46c !important; }
        .helper-text { font-size: 0.7rem; color: #999; margin-top: 3px; display: block; }
        
        .calc-btn { grid-column: 1 / -1; background-color: var(--primary); color: white; border: none; padding: 15px; border-radius: 5px; font-size: 1rem; text-transform: uppercase; font-weight: bold; cursor: pointer; margin-top: 15px; }
        .calc-btn:hover { background-color: #34495e; }
        
        .result-row { display: flex; justify-content: space-between; align-items: flex-start; padding: 12px 0; border-bottom: 1px solid #f0f0f0; }
        .result-row:last-child { border-bottom: none; }
        .res-label-group { display: flex; flex-direction: column; }
        .res-label { font-size: 0.9rem; color: #666; font-weight: 400; }
        .res-desc { font-size: 0.75rem; color: #aaa; margin-top: 2px; }
        .res-value { font-size: 1.1rem; font-weight: 700; color: var(--primary); }
        .text-green { color: var(--accent); font-size: 1.3rem; }
        .text-blue { color: #3498db; }
        .dashed-separator { border: 0; border-top: 1px dashed #ccc; margin: 20px 0; }
        
        .table-container { overflow-x: auto; }
        table { width: 100%; border-collapse: collapse; font-size: 0.85rem; }
        th { background-color: var(--primary); color: white; padding: 10px; text-align: center; }
        td { padding: 8px 10px; border-bottom: 1px solid #eee; text-align: right; color: #555; }
        tr:nth-child(even) { background-color: #f9f9f9; }
        .contemplacao-row { background-color: #fff3cd !important; border-left: 4px solid #ffc107; font-weight: bold; }

        @media (max-width: 768px) {
            .grid-container { grid-template-columns: 1fr; }
            .form-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <!-- CONTAINER DE AUTENTICAÇÃO -->
    <div id="auth-container">
        <!-- Tela de Login -->
        <div class="auth-card" id="login-card">
            <h2>Acesso ao Simulador</h2>
            <div id="login-error" class="error-message"></div>
            <input type="email" id="login-email" class="auth-input" placeholder="Seu e-mail">
            <input type="password" id="login-password" class="auth-input" placeholder="Sua senha">
            <button class="auth-btn" id="btn-login">ENTRAR</button>
            <span class="auth-link" id="link-to-register">Não tem conta? Cadastre-se</span>
            <span class="auth-link" id="link-to-reset" style="font-size: 0.8rem; color: #7f8c8d;">Esqueci minha senha</span>
        </div>

        <!-- Tela de Cadastro -->
        <div class="auth-card" id="register-card" style="display: none;">
            <h2>Criar Conta</h2>
            <div id="register-error" class="error-message"></div>
            <input type="email" id="reg-email" class="auth-input" placeholder="Seu e-mail">
            <input type="password" id="reg-password" class="auth-input" placeholder="Senha (min 6 caracteres)">
            <button class="auth-btn" id="btn-register" style="background-color: var(--accent);">CADASTRAR</button>
            <span class="auth-link" id="link-to-login">Já tenho conta. Fazer Login</span>
        </div>

        <!-- Tela de Recuperação -->
        <div class="auth-card" id="reset-card" style="display: none;">
            <h2>Recuperar Senha</h2>
            <p style="font-size: 0.9rem; margin-bottom: 15px;">Digite seu e-mail para receber o link de redefinição.</p>
            <div id="reset-msg" class="error-message" style="color: green;"></div>
            <input type="email" id="reset-email" class="auth-input" placeholder="Seu e-mail cadastrado">
            <button class="auth-btn" id="btn-reset">ENVIAR EMAIL</button>
            <span class="auth-link" id="link-back-login">Voltar para Login</span>
        </div>
    </div>

    <!-- CONTAINER DO APLICATIVO (SIMULADOR) -->
    <div id="app-container">
        <div class="header-bar">
            <h1>Simulador Financeiro de Consórcio</h1>
            <button class="logout-btn" id="btn-logout">Sair</button>
        </div>

        <div class="type-selector">
            <button class="type-btn active" onclick="setConsortiumType('veiculo')">Veículos</button>
            <button class="type-btn" onclick="setConsortiumType('imovel')">Imóveis</button>
            <button class="type-btn" onclick="setConsortiumType('equipamento')">Equipamentos</button>
        </div>

        <div class="grid-container">
            <!-- Coluna Inputs -->
            <div class="card">
                <h2 id="tituloParametros">PARÂMETROS DA SIMULAÇÃO</h2>
                <div class="form-grid">
                    <div class="form-group"><label>Aplicação Inicial (R$)</label><input type="number" id="valorAplicado" value="35000"></div>
                    <div class="form-group"><label>Rendimento (% a.m.)</label><input type="number" id="rendimentoMensal" value="0.8" step="0.01"></div>
                    <div class="form-group full-width"><label>Valor da Carta (R$)</label><input type="number" id="valorCarta" value="75000" oninput="atualizarDadosEntrada()"></div>
                    <div class="form-group"><label>Taxa Adm. Total (%)</label><input type="number" id="taxaAdmin" value="23.4" step="0.1"></div>
                    <div class="form-group"><label>Prazo Total (meses)</label><input type="number" id="prazoTotal" value="76"></div>
                    <div class="form-group"><label>Mês Contemplação</label><input type="number" id="mesContemplacao" value="1"></div>
                    <div class="form-group"><label>Desc. Inicial (%)</label><input type="number" id="pctDesconto" value="30"></div>
                    
                    <div class="highlight-box">
                        <input type="checkbox" id="chkAutoLance" onchange="toggleAutoLance()">
                        <label for="chkAutoLance">Ajustar Lance:</label>
                        <input type="number" id="targetPercent" class="small-input" value="60" disabled>
                        <label>% total</label>
                    </div>

                    <div class="form-group"><label>Lance Livre (R$)</label><input type="number" id="lanceLivre" value="30000"></div>
                    <div class="form-group"><label>% Lance Embutido</label><input type="number" id="pctLanceEmbutido" value="20" oninput="atualizarDadosEntrada()"></div>
                    <div class="form-group full-width"><label>Valor Embutido</label><input type="text" id="valorLanceEmbutidoDisplay" readonly></div>
                    <div class="form-group"><label>Reajuste INCC (%)</label><input type="number" id="taxaReajuste" value="6.0" step="0.1"></div>
                    <div class="form-group"><label id="labelRendimentoExtra">Rend. Extra (R$)</label><input type="number" id="rendimentoCarro" value="0"><span class="helper-text" id="explRendimentoExtra">A partir do mês seguinte</span></div>
                    
                    <button class="calc-btn" onclick="calcular()">CALCULAR</button>
                </div>
            </div>

            <!-- Coluna Resultados -->
            <div class="card">
                <h2>RESULTADOS</h2>
                <div class="result-row"><div class="res-label-group"><span class="res-label">Líquido Liberado</span></div><span class="res-value text-green" id="resValorLiberado">R$ 0,00</span></div>
                <div class="result-row"><div class="res-label-group"><span class="res-label">Parcela Cheia</span></div><span class="res-value" style="color:#7f8c8d;" id="resPrestacaoNormal">R$ 0,00</span></div>
                <div class="result-row"><div class="res-label-group"><span class="res-label">Parcela (Antes)</span></div><span class="res-value" id="resPrestacaoAntes">R$ 0,00</span></div>
                <div class="result-row"><div class="res-label-group"><span class="res-label">Parcela (Após)</span></div><span class="res-value text-blue" id="resPrestacaoApos">R$ 0,00</span></div>
                <div class="result-row"><div class="res-label-group"><span class="res-label">Total Lances</span></div><span class="res-value" id="resTotalLances">R$ 0,00</span></div>
                <div class="result-row"><div class="res-label-group"><span class="res-label">Total Pago (Est.)</span></div><span class="res-value" id="resTotalPago">R$ 0,00</span></div>
                <hr class="dashed-separator">
                <div class="result-row"><div class="res-label-group"><span class="res-label" style="font-weight:bold;">Saldo na Contemplação</span></div><span class="res-value" id="resValorAplicacao">R$ 0,00</span></div>
            </div>

            <!-- Tabela -->
            <div class="card full-width">
                <h2>FLUXO DE CAIXA</h2>
                <div class="table-container">
                    <table id="tabelaEvolucao">
                        <thead><tr><th>MÊS</th><th>SALDO INICIAL</th><th>REND. (+)</th><th id="thRendaExtra">EXTRA (+)</th><th>PARCELA (-)</th><th>LANCE (-)</th><th>SALDO FINAL</th></tr></thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- --- FIREBASE & APP SCRIPTS --- -->
    <script type="module">
        // Importa as funções do Firebase v10
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { 
            getAuth, 
            onAuthStateChanged, 
            signInWithEmailAndPassword, 
            createUserWithEmailAndPassword, 
            sendPasswordResetEmail,
            signOut 
        } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        // ==============================================================
        // 1. CONFIGURAÇÃO DO FIREBASE (SUBSTITUA PELOS SEUS DADOS)
        // ==============================================================
const firebaseConfig = {
  apiKey: "AIzaSyAF0czNY5fMmLWN5J95asCuEmeU3yyPYO0",
  authDomain: "consorcio-86c07.firebaseapp.com",
  projectId: "consorcio-86c07",
  storageBucket: "consorcio-86c07.firebasestorage.app",
  messagingSenderId: "153431493199",
  appId: "1:153431493199:web:73f85c87fcfa193434383a",
  measurementId: "G-Q3DRJ1SN4L"
};

        // Inicializa Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // ==============================================================
        // 2. LÓGICA DE AUTENTICAÇÃO E INTERFACE
        // ==============================================================
        
        // Elementos de UI Auth
        const authContainer = document.getElementById('auth-container');
        const appContainer = document.getElementById('app-container');
        const loginCard = document.getElementById('login-card');
        const registerCard = document.getElementById('register-card');
        const resetCard = document.getElementById('reset-card');
        const errorMsg = document.getElementById('login-error');

        // Monitora Estado do Usuário
        onAuthStateChanged(auth, (user) => {
            if (user) {
                // Logado: Esconde login, Mostra App
                authContainer.style.display = 'none';
                appContainer.style.display = 'flex';
                // Roda o cálculo inicial
                if(window.calcular) window.calcular();
            } else {
                // Deslogado: Mostra login, Esconde App
                authContainer.style.display = 'flex';
                appContainer.style.display = 'none';
                showCard('login');
            }
        });

        // Navegação entre Cards (Login <-> Cadastro <-> Reset)
        function showCard(cardName) {
            loginCard.style.display = 'none';
            registerCard.style.display = 'none';
            resetCard.style.display = 'none';
            document.querySelectorAll('.error-message').forEach(el => el.style.display = 'none');

            if(cardName === 'login') loginCard.style.display = 'block';
            if(cardName === 'register') registerCard.style.display = 'block';
            if(cardName === 'reset') resetCard.style.display = 'block';
        }

        // Eventos de Navegação
        document.getElementById('link-to-register').onclick = () => showCard('register');
        document.getElementById('link-to-login').onclick = () => showCard('login');
        document.getElementById('link-back-login').onclick = () => showCard('login');
        document.getElementById('link-to-reset').onclick = () => showCard('reset');

        // Ação: LOGIN
        document.getElementById('btn-login').onclick = () => {
            const email = document.getElementById('login-email').value;
            const pass = document.getElementById('login-password').value;
            signInWithEmailAndPassword(auth, email, pass)
                .catch((error) => {
                    const el = document.getElementById('login-error');
                    el.innerText = "Erro: " + error.message;
                    el.style.display = 'block';
                });
        };

        // Ação: REGISTRO
        document.getElementById('btn-register').onclick = () => {
            const email = document.getElementById('reg-email').value;
            const pass = document.getElementById('reg-password').value;
            createUserWithEmailAndPassword(auth, email, pass)
                .then(() => alert("Conta criada com sucesso!"))
                .catch((error) => {
                    const el = document.getElementById('register-error');
                    el.innerText = error.message;
                    el.style.display = 'block';
                });
        };

        // Ação: RECUPERAR SENHA
        document.getElementById('btn-reset').onclick = () => {
            const email = document.getElementById('reset-email').value;
            sendPasswordResetEmail(auth, email)
                .then(() => {
                    const el = document.getElementById('reset-msg');
                    el.innerText = "Email de recuperação enviado!";
                    el.style.display = 'block';
                    el.style.color = 'green';
                })
                .catch((error) => {
                    const el = document.getElementById('reset-msg');
                    el.innerText = error.message;
                    el.style.display = 'block';
                    el.style.color = 'red';
                });
        };

        // Ação: LOGOUT
        document.getElementById('btn-logout').onclick = () => signOut(auth);

    </script>

    <!-- --- LÓGICA DO SIMULADOR (JAVASCRIPT ANTIGO) --- -->
    <script>
        // Esta parte permanece "Global" para funcionar com os onclick="" do HTML antigo
        const CONFIGS = {
            veiculo: { titulo: "PARÂMETROS (VEÍCULOS)", carta: 75000, taxa: 23.4, prazo: 76, rendLabel: "Rend. Extra (R$)", expl: "Após contemplação", th: "EXTRA (+)", desc: 30, reaj: 6.0 },
            imovel: { titulo: "PARÂMETROS (IMÓVEIS)", carta: 400000, taxa: 24.0, prazo: 180, rendLabel: "Aluguel (R$)", expl: "Após chaves", th: "ALUGUEL (+)", desc: 0, reaj: 6.0 },
            equipamento: { titulo: "PARÂMETROS (EQUIPAMENTOS)", carta: 150000, taxa: 18.0, prazo: 60, rendLabel: "Lucro (R$)", expl: "Retorno produtivo", th: "LUCRO (+)", desc: 0, reaj: 5.0 }
        };

        const formatarMoeda = (v) => v.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
        const getFloat = (id) => parseFloat(document.getElementById(id).value.replace(',', '.')) || 0;
        const getInt = (id) => parseInt(document.getElementById(id).value) || 0;

        window.setConsortiumType = function(type) {
            const c = CONFIGS[type];
            document.querySelectorAll('.type-btn').forEach(b => b.classList.remove('active'));
            // Seleciona botão ativo (hack visual simples)
            if(type==='veiculo') document.querySelectorAll('.type-btn')[0].classList.add('active');
            if(type==='imovel') document.querySelectorAll('.type-btn')[1].classList.add('active');
            if(type==='equipamento') document.querySelectorAll('.type-btn')[2].classList.add('active');

            document.getElementById('tituloParametros').innerText = c.titulo;
            document.getElementById('labelRendimentoExtra').innerText = c.rendLabel;
            document.getElementById('explRendimentoExtra').innerText = c.expl;
            document.getElementById('thRendaExtra').innerText = c.th;
            document.getElementById('valorCarta').value = c.carta;
            document.getElementById('taxaAdmin').value = c.taxa;
            document.getElementById('prazoTotal').value = c.prazo;
            document.getElementById('pctDesconto').value = c.desc;
            document.getElementById('taxaReajuste').value = c.reaj;
            atualizarDadosEntrada();
            calcular();
        }

        window.toggleAutoLance = function() {
            const chk = document.getElementById('chkAutoLance');
            const livre = document.getElementById('lanceLivre');
            const target = document.getElementById('targetPercent');
            if(chk.checked) { livre.readOnly = true; target.disabled = false; atualizarDadosEntrada(); }
            else { livre.readOnly = false; target.disabled = true; }
        }

        window.atualizarDadosEntrada = function() {
            const carta = getFloat('valorCarta');
            const pctEmb = getFloat('pctLanceEmbutido');
            const valEmb = carta * (pctEmb/100);
            document.getElementById('valorLanceEmbutidoDisplay').value = formatarMoeda(valEmb);
            
            const chk = document.getElementById('chkAutoLance');
            if(chk.checked) {
                const meta = getFloat('targetPercent');
                const valMeta = carta * (meta/100);
                let valLivre = valMeta - valEmb;
                if(valLivre < 0) valLivre = 0;
                document.getElementById('lanceLivre').value = valLivre.toFixed(0);
            }
        }

        window.calcular = function() {
            const valApp = getFloat('valorAplicado');
            const rendMes = getFloat('rendimentoMensal')/100;
            const carta = getFloat('valorCarta');
            const taxa = getFloat('taxaAdmin');
            const prazo = getInt('prazoTotal');
            const mesCont = getInt('mesContemplacao');
            const desc = getFloat('pctDesconto');
            const livre = getFloat('lanceLivre');
            const pctEmb = getFloat('pctLanceEmbutido');
            const extra = getFloat('rendimentoCarro');
            const reaj = getFloat('taxaReajuste')/100;

            if(mesCont > prazo) return;

            const divTotal = carta * (1+(taxa/100));
            const parcCheia = divTotal/prazo;
            const parcAntes = parcCheia * (1-(desc/100));
            const valEmb = carta * (pctEmb/100);
            const totalLance = livre + valEmb;
            const lib = carta - valEmb;

            const pagoAteCont = parcAntes * mesCont;
            let sDevedor = divTotal - pagoAteCont;
            let sPosLance = sDevedor - totalLance;
            if(sPosLance < 0) sPosLance = 0;
            const mesesRest = prazo - mesCont;
            let parcApos = mesesRest > 0 ? sPosLance/mesesRest : 0;

            let saldo = valApp;
            let html = "";
            let saldoCont = 0;
            let totalPago = 0;
            let fatorReaj = 1;

            for(let i=1; i<=prazo; i++) {
                if(i>1 && (i-1)%12===0) fatorReaj *= (1+reaj);
                let sIni = saldo;
                let rApp = sIni * rendMes;
                let pParc = 0; let pLance = 0; let pExtra = 0; let cls = "";
                
                if(i <= mesCont) {
                    pParc = parcAntes;
                    if(i === mesCont) { cls="contemplacao-row"; pLance=livre; }
                } else {
                    pParc = parcApos;
                    pExtra = extra;
                }
                
                let pParcReaj = pParc * fatorReaj;
                totalPago += pParcReaj + pLance;
                saldo = sIni + rApp + pExtra - pParcReaj - pLance;
                if(i===mesCont) saldoCont = saldo;

                let dLance = pLance>0?formatarMoeda(pLance):"-";
                let dExtra = pExtra>0?formatarMoeda(pExtra):"-";
                let inccTag = (i>1 && (i-1)%12===0) ? "<small style='color:#e67e22'>(INCC)</small>" : "";

                html += `<tr class="${cls}"><td>${i}${inccTag}</td><td>${formatarMoeda(sIni)}</td>
                <td style="color:green">+${formatarMoeda(rApp)}</td><td style="${pExtra>0?'color:green':''}">${pExtra>0?'+':''}${dExtra}</td>
                <td style="color:#c0392b">-${formatarMoeda(pParcReaj)}</td><td style="color:#c0392b;font-weight:${pLance>0?'bold':'normal'}">${pLance>0?'-':''}${dLance}</td>
                <td style="font-weight:bold;color:${saldo<0?'#c0392b':'#2c3e50'}">${formatarMoeda(saldo)}</td></tr>`;
            }

            document.getElementById('resValorLiberado').innerText = formatarMoeda(lib);
            document.getElementById('resPrestacaoNormal').innerText = formatarMoeda(parcCheia);
            document.getElementById('resPrestacaoAntes').innerText = formatarMoeda(parcAntes);
            document.getElementById('resPrestacaoApos').innerText = formatarMoeda(parcApos);
            document.getElementById('resTotalLances').innerText = formatarMoeda(totalLance);
            document.getElementById('resTotalPago').innerText = formatarMoeda(totalPago);
            const elSaldo = document.getElementById('resValorAplicacao');
            elSaldo.innerText = formatarMoeda(saldoCont);
            elSaldo.style.color = saldoCont < 0 ? "#c0392b" : "#2c3e50";
            document.querySelector('#tabelaEvolucao tbody').innerHTML = html;
        }

        // Init
        atualizarDadosEntrada();
        calcular();
    </script>
</body>
</html>